apply plugin: 'com.android.model.library'
version = "1.0.2"
model {
    android {
        compileSdkVersion = 23
        buildToolsVersion = "23.0.2"
        resourcePrefix = "AndroidMP3RecorderLibrary_"    //这个随便填
        defaultConfig.with {
            minSdkVersion.apiLevel = 9
            targetSdkVersion.apiLevel = 23
//      暂时屏蔽，等AndroidStudio NDK开发完善后再放开
        }
    }
    android.ndk {
        moduleName = "mp3lame"
        //abiFilters "armeabi-v7a", "armeabi", "x86"
        ldLibs.addAll(["android", "EGL", "GLESv2", "OpenSLES", "log"])
        stl        = "stlport_static"

        cppFlags += "-std=c++11"
        cppFlags.add(" -I${file("src/main/jni")}".toString())
        cppFlags.add(" -I${file("src/main/jni/lame_3.99.5_libmp3lame")}".toString())
        cppFlags.add(" -I${file("src/main/jni/lame_3.99.5_libmp3lame/vector")}".toString())

        println cppFlags

    }

    android.buildTypes {
        release {
            minifyEnabled = false
            proguardFiles +=file("proguard-rules.pro")
        }
    }
}
dependencies {
    compile 'com.android.support:support-v4:23.1.1'
}
